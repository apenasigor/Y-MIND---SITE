!function e(t,o,n){function a(i,l){if(!o[i]){if(!t[i]){var r="function"==typeof require&&require;if(!l&&r)return r(i,!0);if(s)return s(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var c=o[i]={exports:{}};t[i][0].call(c.exports,function(e){var o=t[i][1][e];return a(o?o:e)},c,c.exports,e,t,o,n)}return o[i].exports}for(var s="function"==typeof require&&require,i=0;i<n.length;i++)a(n[i]);return a}({1:[function(e,t,o){var n=e("../../../shims/backbone"),a={ExploreResult:e("../../models/search/ExploreResult")};t.exports=n.Collection.extend({model:a.ExploreResult})},{"../../../shims/backbone":28,"../../models/search/ExploreResult":2}],2:[function(e,t,o){var n=e("../../../shims/backbone");t.exports=n.Model.extend({})},{"../../../shims/backbone":28}],3:[function(e,t,o){var n=e("../../shims/backbone"),a={teaser:e("../../templates/teasers/teaser.html")},s=e("../../lib/analytics"),i=e("../../lib/getMedia");t.exports=n.View.extend({className:"supporting-content-item",template:a.result,context:"Sidebar",modalView:null,modalData:null,modal:null,imageThumbnail:"small_thumb",initialize:function(e){this.options=e||{},this.setContext(),vent.on("modal:close",this.onModalClose,this),this.modalData||(this.modalData=this.model),this.teaserImageData||(this.teaserImageData=this.model),this.setImage(),this.setAccentColor()},setImage:function(){var e=this.teaserImageData.get("meta")||this.teaserImageData.get("_source");this.teaser_image=e.media?i(e.media,this.imageThumbnail,"medium_thumb"):null,this.model.set("teaser_image",this.teaser_image)},setAccentColor:function(){var e=this.teaserImageData.get("color");!e&&this.teaser_image&&(e=this.teaser_image.hex?{accent:this.teaser_image.hex,contrast:this.teaser_image.hex_contrast}:null,this.model.set("teaser_color",e))},setContext:function(){this.options.context&&(this.context=this.options.context)},hover:function(e){$(e.currentTarget).css("cursor","pointer")},openModal:function(e){e.preventDefault(),this.modalView&&(this.modal?this.modal.toTop():(this.modal=new this.modalView({model:this.modalData,focusBeforeOpen:$(":focus")}),this.modal.show(),this.trackModalOpen()))},onModalClose:function(e){this.modal&&e==this.modalData&&(this.modal=null)},trackModalOpen:function(){s.trackEvent({eventCategory:this.context,eventAction:"Open Modal",eventLabel:this.modalData.get("post_type")+" : "+this.modalData.get("post_title")})},render:function(){var e=(this.model.get("teaser_image"),this.model.get("post_type")||this.model.get("_type")),t=this.model.get("id")||this.model.get("_id");return this.$el.addClass("type-"+e),this.$el.addClass(e),this.$el.addClass("force"),this.$el.attr("data-id",t),this.$el.append(this.template(this.model.toJSON())),this}})},{"../../lib/analytics":18,"../../lib/getMedia":24,"../../shims/backbone":28,"../../templates/teasers/teaser.html":44}],4:[function(e,t,o){var n=e("../../shims/jquery"),a=e("../../shims/backbone"),s=e("../../lib/getMedia"),i=e("../../lib/accessible-modal"),l={modalBackground:e("../../templates/modal-background.html"),defaultModalWindow:e("../../templates/modal-window-default.html")};t.exports=a.View.extend({className:"modal-background",template:l.defaultModalWindow,backgroundTemplate:l.modalBackground,imageThumbnail:"featured",events:{"click .close":"close"},initialize:function(e){var t="undefined"!=typeof this.model.get("ID")?this.model.get("ID"):this.model.get("_id");this.model.set("id",t),this.setImage(),this.setAccentColor(),n("body").on("keydown."+t,this.evaluateKeyDown.bind(this)),this.listenTo(vent,"modal:closeall",this.close.bind(this)),this.accessibleModal=new i,this.accessibleModal.saveFocus(e.focusBeforeOpen),this.render()},evaluateKeyDown:function(e){var t=jhumodals.isActive(this.$el);if(t){var o=e.charCode?e.charCode:e.keyCode;9===o&&this.accessibleModal.trapTab(this.$el,e)}},setImage:function(){var e=this.model.get("meta")||this.model.get("_source");e&&(this.image=s(e.media,this.imageThumbnail),this.model.set("image",this.image))},setAccentColor:function(){if(this.model){var e=this.model.get("color");!e&&this.image&&(e=this.image.hex?{accent:this.image.hex,contrast:this.image.hex_contrast}:null,this.model.set("color",e))}},render:function(){var e=this.model?this.model.toJSON():{};return this.backgroundTemplate&&this.$el.append(this.backgroundTemplate(e)),this.$el.append(this.template(e)),this},show:function(){jhumodals.add(this.$el),this.showModal(),n(".page-container, .main-nav, .skip-to-main").attr("aria-hidden","true"),n("body").addClass("modals-open")},showModal:function(){this.$el.appendTo("body").hide().show(0).addClass("modal-open").attr("role","dialog").attr("aria-labelledby","aria-label-"+this.model.get("id")).attr("aria-desribedby","aria-description-"+this.model.get("id")).attr("tabindex","-1").focus(),this.accessibleModal.setInitialFocus(this.$el.find(".close"))},close:function(e){this.stopListening(),this.undelegateEvents(),n("body").off("keydown."+this.model.get("id")),e&&(e.stopPropagation(),e.preventDefault()),jhumodals.remove(this.$el),0===jhumodals.count()&&(this.accessibleModal.returnFocus(),n("body").removeClass("modals-open"),n(".page-container, .main-nav, .skip-to-main").removeAttr("aria-hidden")),this.$el.removeClass("modal-open"),setTimeout(this.remove.bind(this),1e3),vent.trigger("modal:close",this.model)},toTop:function(){this.$el.remove().removeClass("modal-open"),this.showModal(),this.delegateEvents()}})},{"../../lib/accessible-modal":17,"../../lib/getMedia":24,"../../shims/backbone":28,"../../shims/jquery":29,"../../templates/modal-background.html":34,"../../templates/modal-window-default.html":35}],5:[function(e,t,o){var n=(e("../../../shims/backbone"),{Modal:e("../ModalView")}),a={clubModal:e("../../../templates/clubs/club-modal.html")};t.exports=n.Modal.extend({template:a.clubModal})},{"../../../shims/backbone":28,"../../../templates/clubs/club-modal.html":31,"../ModalView":4}],6:[function(e,t,o){var n=(e("../../../shims/backbone"),{ClubModal:e("./ClubModalView"),ContentTeaser:e("../ContentTeaserView")}),a={clubResult:e("../../../templates/search/club-result.html")};t.exports=n.ContentTeaser.extend({template:a.clubResult,modalView:n.ClubModal,events:{click:"openModal",mouseover:"hover"}})},{"../../../shims/backbone":28,"../../../templates/search/club-result.html":38,"../ContentTeaserView":3,"./ClubModalView":5}],7:[function(e,t,o){var n=(e("../../../shims/backbone"),{ContentTeaser:e("../ContentTeaserView")}),a={fact:e("../../../templates/search/fact-result.html")};t.exports=n.ContentTeaser.extend({template:a.fact})},{"../../../shims/backbone":28,"../../../templates/search/fact-result.html":40,"../ContentTeaserView":3}],8:[function(e,t,o){var n=(e("../../../shims/backbone"),{Modal:e("../ModalView")}),a={fieldOfStudyModal:e("../../../templates/fields_of_study/field-of-study-modal.html")};t.exports=n.Modal.extend({template:a.fieldOfStudyModal})},{"../../../shims/backbone":28,"../../../templates/fields_of_study/field-of-study-modal.html":32,"../ModalView":4}],9:[function(e,t,o){var n=(e("../../../shims/backbone"),{FieldOfStudyModal:e("./FieldOfStudyModalView"),ContentTeaser:e("../ContentTeaserView")}),a=e("../../../lib/truncate"),s={fieldOfStudy:e("../../../templates/search/field-of-study-result.html")};t.exports=n.ContentTeaser.extend({template:s.fieldOfStudy,modalView:n.FieldOfStudyModal,events:{click:"openModal",mouseover:"hover"},initialize:function(e){var t=this.model.get("meta"),o=this.model.get("_source");t?(t.short_summary=a(t.summary,150),this.model.set("meta",t)):(o.short_summary=a(o.summary,150),this.model.set("_source",o)),n.ContentTeaser.prototype.initialize.call(this,e)}})},{"../../../lib/truncate":25,"../../../shims/backbone":28,"../../../templates/search/field-of-study-result.html":41,"../ContentTeaserView":3,"./FieldOfStudyModalView":8}],10:[function(e,t,o){var n=(e("../../../shims/backbone"),{Modal:e("../ModalView")}),a={profileModal:e("../../../templates/profiles/profile-modal.html")};t.exports=n.Modal.extend({template:a.profileModal})},{"../../../shims/backbone":28,"../../../templates/profiles/profile-modal.html":36,"../ModalView":4}],11:[function(e,t,o){var n=(e("../../../shims/backbone"),{ProfileModal:e("./ProfileModalView"),ContentTeaser:e("../ContentTeaserView")}),a={profileResult:e("../../../templates/search/profile-result.html")};t.exports=n.ContentTeaser.extend({template:a.profileResult,modalView:n.ProfileModal,events:{click:"openModal",mouseover:"hover"}})},{"../../../shims/backbone":28,"../../../templates/search/profile-result.html":43,"../ContentTeaserView":3,"./ProfileModalView":10}],12:[function(e,t,o){var n=e("../../../shims/jquery"),a=(e("../../../shims/underscore"),e("../../../shims/backbone")),s={ExploreResultModal:e("./ExploreResultModalView")};t.exports=a.View.extend({events:{"submit form":"search"},initialize:function(e){vent.on("modal:close",this.onModalClose,this),this.input=this.$el.find("input[name=q]"),this.focus=[e.focus],this.model=new a.Model({ID:"explore"})},search:function(e){e.preventDefault();var t=this.input.val(),o=new s.ExploreResultModal({focus:this.focus,model:this.model,focusBeforeOpen:n(":focus")});o.search(t,this.focus),this.input.val("")}})},{"../../../shims/backbone":28,"../../../shims/jquery":29,"../../../shims/underscore":30,"./ExploreResultModalView":13}],13:[function(e,t,o){var n=(e("../../../shims/backbone"),e("../../../lib/elasticsearch")),a=e("../../../lib/explore-search"),s=e("../../../lib/analytics"),i={ExploreResultSet:e("../../collections/search/ExploreResultSet")},l={Modal:e("../ModalView"),ExploreResultSet:e("./ExploreResultSetView"),NoResults:e("./NoResultsView")},r={loading:e("../../../templates/loading.html"),exploreModal:e("../../../templates/search/explore-modal.html")};window.env;t.exports=l.Modal.extend({template:r.exploreModal,initialize:function(e){l.Modal.prototype.initialize.call(this,e),this.exploresearch=new a(new n),this.show(),this.focus=e.focus,this.cannedResultsView=new l.ExploreResultSet,this.mainResultsView=new l.ExploreResultSet,this.relatedResultsView=new l.ExploreResultSet,this.events["submit form"]="handleSubmit"},handleSubmit:function(e){e.preventDefault(),this.search(this.$("input[name=q]").val(),this.focus)},search:function(e,t){this.$(".main-results").append(r.loading({style:"dark"})),this.relatedResultsView.reset(),this.cannedResultsView.reset(),this.mainResultsView.reset(),this.$(".messages").empty();var o=this.$("input[name=q]");return o.val(e),this.exploresearch.search({query:e,focus:this.focus,onMain:this.onMain.bind(this),onSecondary:this.onEachRelated.bind(this),onCanned:this.onCanned.bind(this)}),this.sendRequestToGoogle(e,t),!1},sendRequestToGoogle:function(e,t){var o=(window.location,programExplorerUrl+"?q="+e+"&c=explore_"+t);s.trackPageview({page:o,title:"Explore | Johns Hopkins University"})},onCanned:function(e){0!==e.length&&(this.cannedResultsView.collection=new i.ExploreResultSet(e),this.$(".canned-results").append(this.cannedResultsView.render().el))},onMain:function(e){if(this.$(".main-results").find(".loading").remove(),0===e.length){var t=new l.NoResults;return void this.$(".messages").append(t.render().el)}this.mainResultsView.collection=new i.ExploreResultSet(e),this.$(".main-results").append(this.mainResultsView.render().el)},onEachRelated:function(e){0!==e.length&&(this.relatedResultsView.collection=new i.ExploreResultSet(e),this.$(".results-secondary").append(this.relatedResultsView.render().el))}})},{"../../../lib/analytics":18,"../../../lib/elasticsearch":21,"../../../lib/explore-search":23,"../../../shims/backbone":28,"../../../templates/loading.html":33,"../../../templates/search/explore-modal.html":39,"../../collections/search/ExploreResultSet":1,"../ModalView":4,"./ExploreResultSetView":14,"./NoResultsView":15}],14:[function(e,t,o){var n=e("../../../shims/backbone"),a=e("../../../lib/verify-images"),s={club:e("../club/ClubTeaserView"),fact:e("../fact/FactView"),field_of_study:e("../field_of_study/FieldOfStudyTeaserView"),person:e("../profile/ProfileTeaserView"),search_response:e("../search_response/SearchResponseView")};t.exports=n.View.extend({className:"explore-result-set force",initialize:function(){var e=this;this.collection&&this.collection.on("add",function(t){e.append(t)})},makeView:function(e){var t=e.get("_type");if("person"!==t||a(e))return s[t]?new s[t]({model:e,context:"Elasticsearch Explorer"}):null},append:function(e){var t=this.makeView(e);t&&(e=t.render().$el,this.$el.append(e))},reset:function(){return this.$el.empty(),this},render:function(){return this.collection.each(this.append,this),this}})},{"../../../lib/verify-images":26,"../../../shims/backbone":28,"../club/ClubTeaserView":6,"../fact/FactView":7,"../field_of_study/FieldOfStudyTeaserView":9,"../profile/ProfileTeaserView":11,"../search_response/SearchResponseView":16}],15:[function(e,t,o){var n=e("../../../shims/backbone"),a={noResults:e("../../../templates/search/no-results.html")};t.exports=n.View.extend({className:"search-no-results",template:a.noResults,render:function(){return this.$el.append(this.template({})),this}})},{"../../../shims/backbone":28,"../../../templates/search/no-results.html":42}],16:[function(e,t,o){var n=(e("../../../shims/backbone"),{ContentTeaser:e("../ContentTeaserView")}),a={cannedResponse:e("../../../templates/search/canned-response-result.html")};t.exports=n.ContentTeaser.extend({template:a.cannedResponse})},{"../../../shims/backbone":28,"../../../templates/search/canned-response-result.html":37,"../ContentTeaserView":3}],17:[function(e,t,o){var n=e("../shims/jquery"),a=function(e){"undefined"!=typeof e?this.focusable=e:this.focusable=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","*[tabindex]","*[contenteditable]"]};a.prototype.saveFocus=function(e){this.beforeOpenFocus=e},a.prototype.returnFocus=function(){this.beforeOpenFocus&&(this.beforeOpenFocus.focus(),this.beforeOpenFocus=null)},a.prototype.setInitialFocus=function(e){0!==e.length&&setTimeout(function(){e.focus()},1)},a.prototype.getFocusable=function(e){return e.find(this.focusable.join(",")).filter(":visible").filter(function(){var e=n(this).attr("tabindex");return"undefined"==typeof e?!0:n(this).attr("tabindex")>-1})},a.prototype.trapTab=function(e,t){t.preventDefault();var o,n=this.getFocusable(e),a=n.filter(":focus"),s=n.index(a);s>-1?(o=t.shiftKey?s-1:s+1,o>n.length-1?o=0:-1===o&&(o=n.length-1)):o=0,n.get(o).focus()},t.exports=a},{"../shims/jquery":29}],18:[function(e,t,o){t.exports={trackEvent:function(e){e.hitType="event","production"===env&&ga("send",e)},trackPageview:function(e){e.hitType="pageview","production"===env&&ga("send",e)},sendTo:function(e,t){var o=t.ctrlKey||t.metaKey?!0:!1;o?window.open(e):window.location.href=e}}},{}],19:[function(e,t,o){var n=function(){};n.prototype.stringToRGB=function(e){var t=/rgb\(/;if(t.test(e))return this.rgbStingToRGB(e);var o=/(#?([A-Fa-f0-9]){3}(([A-Fa-f0-9]){3})?)/;return o.test(e)?this.hexToRGB(e):null},n.prototype.hexToRGB=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,o,n){return t+t+o+o+n+n});var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:null},n.prototype.rgbStingToRGB=function(e){var t=e.replace("rgb(","").replace(")","").replace(" ","").split(",");return{r:t[0],g:t[1],b:t[2]}},n.prototype.hex=function(e){return("0"+parseInt(e).toString(16)).slice(-2)},n.prototype.rgb2hex=function(e){if(/^#[0-9A-F]{6}$/i.test(e))return e.replace("#","");var t=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(,\s*[0-9\.]+)?\)$/);return this.hex(t[1])+this.hex(t[2])+this.hex(t[3])},n.prototype.getContrastingColor=function(e,t,o){if(!t&&!o){var n=this.stringToRGB(e);if(!n)return null;e=n.r,t=n.g,o=n.b}var a=Math.round((299*parseInt(e)+587*parseInt(t)+114*parseInt(o))/1e3);return a>125?"000":"fff"},t.exports=new n},{}],20:[function(e,t,o){function n(e,t){if(t=t||{},0===e.length)return e;if(t.percentage)var o=e[0].score,n=o*t.percentage;var a=[];return _.each(e,function(e){t.percentage&&e.score<n||t.exclude&&_.indexOf(t.exclude,e.ID)>-1||a.push(e)}),t.returnNum?a.slice(0,t.returnNum):a}function a(e,t){if(t=t||{},0!==e.length){if(t.percentage)var o=e.at(0).get("score"),n=o*t.percentage;var a=[];e.each(function(e,o){t.percentage&&e.get("score")<n&&a.push(e),t.exclude&&_.indexOf(t.exclude,e.get("ID"))>-1&&a.push(e),t.returnNum&&o>t.returnNum-1&&a.push(e)}),e.remove(a)}}e("../shims/backbone");t.exports=function(e,t){return e.models?a(e,t):n(e,t)}},{"../shims/backbone":28}],21:[function(e,t,o){var n=e("../shims/jquery"),a=function(){this.box="https://3a7721e6.qb0x.com:30485/jhu/"};a.prototype.search=function(e,t){return t=JSON.stringify(t),n.ajax({method:"POST",crossDomain:!0,url:this.box+e.join(",")+"/_search",data:t})},t.exports=a},{"../shims/jquery":29}],22:[function(e,t,o){var n=function(){};n.prototype.getMain=function(e){return{query:{multi_match:{query:e,type:"best_fields",fields:["post_title^3","description^2","summary","tags^3","concentrations","majors","minors","what_you_can_do"]}}}},n.prototype.getCannedResponses=function(e){return{query:{match:{keywords:e}}}},n.prototype.getRelated=function(e,t){var o=[],n=[];return o.push({bool:{should:{multi_match:{query:e,type:"best_fields",fields:["description^2","tags^3","post_title"]}}}}),n.push({bool:{should:[{nested:{path:"featured_quote",score_mode:"avg",query:{multi_match:{query:e,type:"best_fields",fields:["featured_quote.meta.quote^3"]}}}},{nested:{path:"long_quote",score_mode:"avg",query:{multi_match:{query:e,type:"best_fields",fields:["long_quote.meta.quote^3"]}}}}]}}),$.inArray("field_of_study",t>-1)&&n.push({bool:{should:[{nested:{path:"major",query:{multi_match:{query:e,type:"best_fields",fields:["major.post_title^3","major.meta.tags^3","major.meta.concentrations","major.meta.majors","major.meta.minors"]}}}},{nested:{path:"minor",query:{multi_match:{query:e,type:"best_fields",fields:["minor.post_title^3","minor.meta.tags^3","minor.meta.concentrations","minor.meta.majors","minor.meta.minors"]}}}}]}}),$.inArray("club",t>-1)&&n.push({bool:{should:[{nested:{path:"club",query:{multi_match:{query:e,type:"best_fields",fields:["club.post_title"]}}}}]}}),o.push({bool:{should:n}}),{query:{bool:{should:o}}}},n.prototype.getSupplemental=function(e){return{query:{multi_match:{query:e,type:"best_fields",fields:["post_title^3","description^2","summary","tags^3"]}}}},n.prototype.getPeople=function(e){return{query:{bool:{should:[{nested:{path:"major",query:{match:{"major.id":{query:e,boost:2}}}}},{nested:{path:"minor",query:{match:{"major.id":{query:e}}}}}]}}}},t.exports=new n},{}],23:[function(e,t,o){function n(e){return"success"!==e[1]?[]:e[0].hits.hits}var a=e("../shims/jquery"),s=e("./explore-query"),i=e("./elasticsearch-process-results"),l=function(e){this.elasticsearch=e,this.box=e.box};l.prototype.search=function(e){this.setOptions(e);var t=this.firstSearchPromises(),o=this;a.when.apply(null,t).done(function(e,t,a){var s=i(n(e),{percentage:.3}),l=i(n(t),{percentage:.3});if(a){var r=i(n(a));o.options.onCanned(r)}o.options.onMain(s),o.options.onSecondary(l),l.length<o.options.maxRelated&&o.runSecondSearch(s,l)})},l.prototype.setOptions=function(e){var t={query:"",focus:["field_of_stud","club"],onMain:function(e){},onSecondary:function(e){},maxMain:null,maxRelated:5};this.options=a.extend({},t,e)},l.prototype.firstSearchPromises=function(){var e=[];return e.push(this.elasticsearch.search(this.options.focus,s.getMain(this.options.query))),e.push(this.elasticsearch.search(["person","fact"],s.getRelated(this.options.query,focus))),_.indexOf(this.options.focus,!1)&&e.push(this.elasticsearch.search(["search_response"],s.getCannedResponses(this.options.query,focus))),e},l.prototype.secondSearchPromises=function(e){var t=this;return _.map(e.slice(0,3),function(e){return t.elasticsearch.search(["person"],s.getPeople(e,focus))})},l.prototype.runSecondSearch=function(e,t){var o=_.pluck(e,"_id"),n=_.pluck(t,"_id"),s=this.secondSearchPromises(o),l=this;a.when.apply(null,s).done(function(){var e=[],o=[],r=1===s.length?[arguments]:arguments;_.map(r,function(t){_.each(t[0].hits.hits,function(t){var n=t._id;-1===a.inArray(n,o)&&(e.push(t),o.push(n))})});var u=l.options.maxRelated-t.length,c=i(e,{returnNum:u,exclude:n});l.options.onSecondary(c)})},t.exports=l},{"../shims/jquery":29,"./elasticsearch-process-results":20,"./explore-query":22}],24:[function(e,t,o){function n(e,t){if("string"==typeof e[0].file)return!1;var o=e[0].file;if(!o)return!1;var n=e[0].file.crops;return n[t]?n[t].url:!1}function a(e){return e[0].accent_color?e[0].accent_color.hex:null}function s(e){return e[0].file.alt_text}var i=e("../shims/jquery"),l=e("../lib/color"),r={small_thumb:["small_thumb","large_thumb","featured","gallery"],large_thumb:["large_thumb","small_thumb","featured","gallery"],featured:["featured","large_thumb","small_thumb","gallery"],gallery:["gallery","featured","large_thumb","small_thumb"]};t.exports=function(e,t,o){if(!e)return null;var u=null;return o=o||t,i.each(r[t],function(t,i){if(e[i]){var r=n(e[i],o);if(r){var c=a(e[i]),d=c?l.getContrastingColor(c):null;u={url:r,hex:c,hex_contrast:d,alt_text:s(e[i])}}return!1}}),u}},{"../lib/color":19,"../shims/jquery":29}],25:[function(e,t,o){function n(e){return e.split(/<\/p>(\s*)<p>/).shift().replace(/<\/p>|<p>/,"")}t.exports=function(e,t){if("string"!=typeof e)return e;e=n(e);for(var o=e.split(" "),a=[],s=0;t>s&&0!==o.length;){var i=o.shift();a.push(i),s+=i.length}return a=a.join(" ").replace(/\W{1}$/,""),0!==o.length&&(a+="..."),a}},{}],26:[function(e,t,o){t.exports=function(e){var t=e.get("meta")||e.get("_source"),o=t.media;return Object.keys(o).length>0?!0:!1}},{}],27:[function(e,t,o){var n=e("./shims/jquery"),a={ExploreForm:e("./app/views/search/ExploreFormView")};n(function(){n(".primary-content .search-box").each(function(e,t){t=n(t);var o=t.find("input[name=focus]");o&&"club"===o.val()&&new a.ExploreForm({el:t,focus:o.val()})})})},{"./app/views/search/ExploreFormView":12,"./shims/jquery":29}],28:[function(e,t,o){(function(e){t.exports=e.Backbone}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],29:[function(e,t,o){(function(e){t.exports=e.jQuery}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(e,t,o){(function(e){t.exports=e._}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],31:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{}){__p+="";var title="undefined"!=typeof post_title?post_title:_source.post_title,metadata="undefined"!=typeof meta?meta:_source;__p+='\n\n<div class="club-modal modal-content force">\n\n  <div class="info all-alone column">\n\n    <h1 id="aria-label-'+(null==(__t=id)?"":__t)+'">'+(null==(__t=title)?"":__t)+"</h1>\n\n    "+(null==(__t=metadata.summary)?"":__t)+'\n\n    <ul class="contact-info">\n\n      ',__p+=metadata.website?'\n        <li class="website"><a href="'+(null==(__t=metadata.website)?"":__t)+'"><i class="fa fa-fw fa-globe"></i> Website</a></li>\n      ':'\n          <li class="website"><a href="'+(null==(__t=metadata.source_url)?"":__t)+'"><i class="fa fa-fw fa-globe"></i> Website</a></li>\n      ',__p+='\n\n    </ul>\n\n    <ul class="social-media">\n\n      ',metadata.social_media.facebook&&(__p+='\n        <li class="facebook"><a href="'+(null==(__t=metadata.social_media.facebook.link)?"":__t)+'"><i class="fa fa-fw fa-facebook-square"></i> Facebook</a></li>\n      '),__p+="\n\n      ",metadata.social_media.twitter&&(__p+='\n        <li class="twitter"><a href="'+(null==(__t=metadata.social_media.twitter.link)?"":__t)+'"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a></li>\n      '),__p+="\n\n      ",metadata.social_media.linkedin&&(__p+='\n        <li class="linkedin"><a href="'+(null==(__t=metadata.social_media.linkedin.link)?"":__t)+'"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a></li>\n      '),__p+="\n\n    </ul>\n\n  </div>\n\n</div>\n"}return __p}},{}],32:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{}){__p+="";var title="undefined"!=typeof post_title?post_title:_source.post_title,metadata="undefined"!=typeof meta?meta:_source,degrees="undefined"!=typeof degrees?degrees:_source.degrees,type="undefined"!=typeof type?type:_source.type,frequency="undefined"!=typeof frequency?frequency:_source.frequency;__p+='\n\n<div class="field-of-study-modal modal-content force">\n\n  <div class="info all-alone column">\n\n    <h3 id="aria-label-'+(null==(__t=id)?"":__t)+'">'+(null==(__t=title)?"":__t)+"</h3>\n\n    "+(null==(__t=_helper.displayDivisions(metadata))?"":__t)+"\n\n    ",degrees&&(__p+='\n      <ul class="degrees meta">\n        ',_.each(degrees,function(e){__p+='\n          <li class="'+(null==(__t=e.slug)?"":__t)+'"><i class="fa '+(null==(__t=e.icon)?"":__t)+'"></i> '+(null==(__t=e.name)?"":__t)+"</li>\n        "}),__p+="\n      </ul>\n    "),__p+='\n\n    <div class="summary">\n      '+(null==(__t=metadata.summary)?"":__t)+'\n    </div>\n\n    <p class="website"><a href="'+(null==(__t=metadata.website)?"":__t)+'"><i class="fa fa-fw fa-globe"></i> Visit website</a></p>\n\n  </div>\n\n</div>\n'}return __p}},{}],33:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{}){if(__p+="",!style)var style="dark";__p+='\n\n<div class="loading '+(null==(__t=style)?"":__t)+'">\n  <i class="fa fa-circle-o-notch fa-spin"></i>\n</div>\n'}return __p}},{}],34:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{}){__p+="";var style="undefined"!=typeof color&&color&&"000"===color.contrast?"dark":"light";__p+='\n\n<p id="aria-description-'+(null==(__t=id)?"":__t)+'" class="visuallyhidden">Press the escape key to close the dialog.</p>\n\n<button class="close close-box-x '+(null==(__t=style)?"":__t)+'" aria-label="Close dialog"><i class="fa fa-fw fa-times"></i><span class="icon-fallback">Close</span></button>\n'}return __p}},{}],35:[function(require,module,exports){module.exports=function(obj){var __p="";Array.prototype.join;with(obj||{})__p+="<!-- some kind of modal window default maybe? -->\n";return __p}},{}],36:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{}){__p+="",color&&(__p+="\n  <style>\n    .modal-background .modal-content { border-top-color: #"+(null==(__t=color.accent)?"":__t)+"; }\n    .modal-background .close-box-x { background-color: #"+(null==(__t=color.accent)?"":__t)+"; }\n    .modal-background .image-container { background-color: #"+(null==(__t=color.accent)?"":__t)+"; }\n    .modal-background .profile-modal .quote strong { color: #"+(null==(__t=color.accent)?"":__t)+"; }\n    .modal-background a,\n    .modal-background button { color: #"+(null==(__t=color.accent)?"":__t)+"; }\n    .modal-background a:hover,\n    .modal-background button:hover { border-bottom-color: #"+(null==(__t=color.accent)?"":__t)+"; color: #000000; }\n    .modal-background .button { color: #000000; }\n    .modal-background .button:hover { border-color: #"+(null==(__t=color.accent)?"":__t)+"; color: #"+(null==(__t=color.accent)?"":__t)+"; }\n    .modal-background .search-box button:hover { background-color: #"+(null==(__t=color.accent)?"":__t)+"; }\n  </style>\n"),__p+="\n\n";var metadata="undefined"!=typeof meta?meta:_source;if(__p+='\n\n\n<div class="profile-modal modal-content force">\n\n  <h1 id="aria-label-'+(null==(__t=id)?"":__t)+'" class="visuallyhidden">Profile of '+(null==(__t=_helper.getName(metadata))?"":__t)+"</h1>\n\n  ",__p+=image?'\n\n    <div class="image-container column">\n      <img src="'+(null==(__t=image.url)?"":__t)+'" alt="'+(null==(__t=image.alt_text||_helper.getName(metadata))?"":__t)+'"/>\n    </div>\n\n    <div class="info column">\n\n  ':'\n\n    <div class="info all-alone column">\n\n  ',__p+="\n\n    ",metadata.featured_quote){__p+="\n\n      ";var featuredquote=metadata.featured_quote.meta?metadata.featured_quote.meta.quote:metadata.featured_quote.description;__p+='\n\n      <blockquote class="quote">\n        '+(null==(__t=featuredquote)?"":__t)+'\n      </blockquote>\n      <p class="dash" aria-hidden="true">&mdash;</p>\n    '}if(__p+="\n\n    "+(null==(__t=_helper.getBusinessCard(metadata,["by-line"]))?"":__t)+"\n\n\n    ","undergraduate"===metadata.type&&(__p+="\n\n      "+(null==(__t=_helper.displayMajorsMinors(metadata))?"":__t)+"\n      "+(null==(__t=_helper.displayClubs(metadata))?"":__t)+"\n\n    "),__p+="\n\n    ",metadata.long_quote){__p+="\n\n      ";var longquote=metadata.long_quote.meta?metadata.long_quote.meta.quote:metadata.long_quote.description;__p+='\n\n      <div class="long-quote">'+(null==(__t=longquote)?"":__t)+"</div>\n    "}__p+="\n\n    ",metadata.short_bio&&(__p+='<div class="bio">'+(null==(__t=metadata.short_bio)?"":__t)+"</div>"),__p+="\n\n  </div>\n\n</div>\n"}return __p}},{}],37:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{}){__p+="";var title="undefined"!=typeof post_title?post_title:_source.post_title,response="undefined"!=typeof meta?meta.response:_source.description;__p+="\n\n<h4>"+(null==(__t=title)?"":__t)+"</h4>\n"+(null==(__t=response)?"":__t)+"\n"}return __p}},{}],38:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{}){__p+="";var title="undefined"!=typeof post_title?post_title:_source.post_title,metadata="undefined"!=typeof meta?meta:_source;__p+='\n\n<h2><button class="button">'+(null==(__t=title)?"":__t)+'</button></h2>\n<div class="summary">'+(null==(__t=metadata.summary)?"":__t)+"</div>\n"}return __p}},{}],39:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{})__p+='<div class="explore-modal modal-content force">\n\n  <div class="program-explorer-module search-box column">\n\n    <h1 id="aria-label-'+(null==(__t=id)?"":__t)+'" class="visuallyhidden">Search results</h1>\n\n    <form class="column force">\n      <label for="search-{{ type }}">Explore</label>\n      <input id="search-explore" class="column" type="text" name="q" autocomplete="off"><button type="submit" class="column"><i class="fa fa-compass"></i> explore</button>\n    </form>\n\n  </div>\n\n  <div class="messages column"></div>\n\n  <div class="results-primary column">\n    <div class="canned-results"></div>\n    <div class="main-results"></div>\n  </div>\n\n</div>\n\n<div class="results-secondary column"></div>\n';return __p}},{}],40:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{}){__p+="";var metadata="undefined"!=typeof meta?meta:_source,description="undefined"!=typeof metadata.fact_description?metadata.fact_description:metadata.description,graphic=(metadata.icon&&metadata.icon.crops?metadata.icon:null,'<i class="fa fa-info-circle"></i><span class="icon-fallback">Fact</span>');__p+="\n\n"+(null==(__t=graphic)?"":__t)+"\n",metadata.number&&(__p+='\n<div class="fact-impact">'+(null==(__t=metadata.number)?"":__t)+"</div>\n"),__p+='\n<div class="fact-description">'+(null==(__t=description)?"":__t)+"</div>\n"}return __p}},{}],41:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{}){__p+="";var title="undefined"!=typeof post_title?post_title:_source.post_title,metadata="undefined"!=typeof meta?meta:_source;__p+="\n\n<h4><button>"+(null==(__t=title)?"":__t)+"</button></h4>\n\n"+(null==(__t=_helper.displayDivisions(metadata))?"":__t)+'\n\n<div class="summary"><p>'+(null==(__t=metadata.short_summary)?"":__t)+"</p></div>\n";
}return __p}},{}],42:[function(require,module,exports){module.exports=function(obj){var __p="";Array.prototype.join;with(obj||{})__p+="<p>Sorry, no results.</p>\n";return __p}},{}],43:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{}){__p+="";var styles="";teaser_color&&(styles="border-color: #"+teaser_color.accent+";");var metadata="undefined"!=typeof meta?meta:_source;__p+="\n\n",teaser_image&&(__p+='\n\n  <img src="'+(null==(__t=teaser_image.url)?"":__t)+'" alt="'+(null==(__t=teaser_image.alt_text||_helper.getName(metadata))?"":__t)+'" style="'+(null==(__t=styles)?"":__t)+'" />\n\n'),__p+="\n\n"+(null==(__t=_helper.getBusinessCard(metadata,["by-line"],!0))?"":__t)+"\n"}return __p}},{}],44:[function(require,module,exports){module.exports=function(obj){var __t,__p="";Array.prototype.join;with(obj||{})__p+="",meta.image&&(__p+='\n  <div class="image">\n    <a href="'+(null==(__t=meta.link)?"":__t)+'" title="'+(null==(__t=post_title)?"":__t)+'"><img src="'+(null==(__t=meta.image.crops.small_thumb.url)?"":__t)+'" alt="'+(null==(__t=meta.image.alt_text)?"":__t)+'" /></a>\n  </div>\n'),__p+='\n\n<h3 class="headline"><a href="'+(null==(__t=meta.link)?"":__t)+'" title="'+(null==(__t=post_title)?"":__t)+'">'+(null==(__t=meta.headline)?"":__t)+'</a></h3>\n\n<div class="summary">'+(null==(__t=meta.summary)?"":__t)+"</div>\n";return __p}},{}]},{},[27]);